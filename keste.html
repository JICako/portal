<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>–°–∞–±–∞“õ –∫–µ—Å—Ç–µ—Å—ñ</title>
<style>
  body {
    font-family: "Segoe UI", sans-serif;
    margin: 0;
    padding: 0;
    color: #fff;
    background: url('https://images.unsplash.com/photo-1526378721523-7a1f4a3b6c7a?auto=format&fit=crop&w=1600&q=80') no-repeat center center/cover;
    background-attachment: fixed;
  }
  .container {
    background: rgba(0, 0, 0, 0.75);
    margin: 40px auto;
    padding: 25px;
    border-radius: 12px;
    max-width: 1100px;
    box-shadow: 0 4px 25px rgba(0,0,0,0.5);
  }
  h1 {
    text-align: center;
    color: #00c3ff;
    margin-bottom: 20px;
  }
  .controls {
    display:flex;
    flex-wrap:wrap;
    justify-content:space-between;
    align-items:center;
    margin-bottom:15px;
  }
  select, input, button {
    padding: 8px 10px;
    border-radius: 6px;
    border: none;
    font-size: 15px;
  }
  button {
    background: #00aaff;
    color: white;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover {
    background: #0080cc;
  }
  button.logout { background: #ff5252; }
  table {
    width: 100%;
    border-collapse: collapse;
    background: rgba(255,255,255,0.08);
  }
  th, td {
    border-bottom: 1px solid rgba(255,255,255,0.2);
    padding: 10px;
    text-align: center;
  }
  th {
    background: rgba(0,150,255,0.6);
  }
  tbody tr:hover {
    background: rgba(255,255,255,0.1);
  }
</style>
</head>
<body>
<div class="container">
  <img src="logo.png" 
     alt="–õ–æ–≥–æ—Ç–∏–ø" 
     style="width:100px; display:block; margin:auto;">
  <div style="display:flex;justify-content:space-between;align-items:center;">
    <h1>üìö –°–∞–±–∞“õ –∫–µ—Å—Ç–µ—Å—ñ (–î“Ø–π—Å–µ–Ω–±—ñ‚Äì–ñ“±–º–∞)</h1>
    <button onclick="logout()" class="logout">–®—ã“ì—É</button>
  </div>

  <div class="controls">
    <div id="userInfo"></div>
    <div>
      <select id="dayFilter">
        <option value="–ë–∞—Ä–ª—ã“ì—ã">–ë–∞—Ä–ª—ã“ì—ã</option>
        <option>–î“Ø–π—Å–µ–Ω–±—ñ</option>
        <option>–°–µ–π—Å–µ–Ω–±—ñ</option>
        <option>–°”ô—Ä—Å–µ–Ω–±—ñ</option>
        <option>–ë–µ–π—Å–µ–Ω–±—ñ</option>
        <option>–ñ“±–º–∞</option>
      </select>
      <select id="shiftFilter">
        <option value="–ë–∞—Ä–ª—ã“ì—ã">–ë–∞—Ä–ª—ã“ì—ã</option>
        <option value="–ë—ñ—Ä—ñ–Ω—à—ñ">–ë—ñ—Ä—ñ–Ω—à—ñ (8:00‚Äì14:30)</option>
        <option value="–ï–∫—ñ–Ω—à—ñ">–ï–∫—ñ–Ω—à—ñ (12:00‚Äì18:45)</option>
      </select>
      <input id="searchInput" placeholder="–Ü–∑–¥–µ—É (—Ç–æ–ø, –ø”ô–Ω, –æ“õ—ã—Ç—É—à—ã)">
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th>–ö“Ø–Ω</th>
        <th>–¢–æ–±—ã</th>
        <th>–°–∞–±–∞“õ —É–∞“õ—ã—Ç—ã</th>
        <th>–ü”ô–Ω –∞—Ç–∞—É—ã</th>
        <th>–û“õ—ã—Ç—É—à—ã</th>
        <th>–ö–∞–±–∏–Ω–µ—Ç</th>
        <th>–ê—É—ã—Å—ã–º</th>
      </tr>
    </thead>
    <tbody id="tableBody"></tbody>
  </table>
</div>

<script>
const SESSION_KEY = 'portal_current_user_v1';
const SCHEDULE_KEY = 'portal_schedule_v1';
const me = JSON.parse(localStorage.getItem(SESSION_KEY) || 'null');

if (!me) {
  alert("–°—ñ–∑ –∂“Ø–π–µ–≥–µ –∫—ñ—Ä–º–µ–≥–µ–Ω—Å—ñ–∑!");
  window.location.href = "index.html";
}

document.getElementById('userInfo').innerHTML = `<b>${me.fullname}</b> ‚Äî ${me.role === 'teacher' ? '–û“õ—ã—Ç—É—à—ã' : '–ë—ñ–ª—ñ–º –∞–ª—É—à—ã'} ${me.group ? '('+me.group+')' : ''}`;

let schedule = [
  // --- –ë—ñ—Ä—ñ–Ω—à—ñ –∫–µ–∑–µ“£ ---
  // –ö—Ç-205, –ú–¥-215, –ö—Ç—Ö-215, –ò-205, –®—Ç-206, –î—Ç-205
  {day:"–î“Ø–π—Å–µ–Ω–±—ñ", group:"–ö—Ç-205", time:"08:00‚Äì09:30", subject:"–û–ù 2.1 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–ª—ã“õ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω –º–µ“£–≥–µ—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},
  {day:"–°”ô—Ä—Å–µ–Ω–±—ñ", group:"–ö—Ç-205", time:"09:45‚Äì11:15", subject:"–û–ù 2.2 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ-–∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª–¥–∞—Ä–¥—ã“£ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},

  {day:"–î“Ø–π—Å–µ–Ω–±—ñ", group:"–ú–¥-215", time:"10:00‚Äì11:30", subject:"–û–ù 2.1 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–ª—ã“õ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω –º–µ“£–≥–µ—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},
  {day:"–ë–µ–π—Å–µ–Ω–±—ñ", group:"–ú–¥-215", time:"11:45‚Äì13:15", subject:"–û–ù 2.2 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ-–∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª–¥–∞—Ä–¥—ã“£ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},

  {day:"–°–µ–π—Å–µ–Ω–±—ñ", group:"–ö—Ç—Ö-215", time:"08:00‚Äì09:30", subject:"–û–ù 2.1 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–ª—ã“õ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω –º–µ“£–≥–µ—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},
  {day:"–ñ“±–º–∞", group:"–ö—Ç—Ö-215", time:"09:45‚Äì11:15", subject:"–û–ù 2.2 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ-–∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª–¥–∞—Ä–¥—ã“£ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},

  {day:"–°–µ–π—Å–µ–Ω–±—ñ", group:"–ò-205", time:"10:00‚Äì11:30", subject:"–û–ù 2.1 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–ª—ã“õ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω –º–µ“£–≥–µ—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},
  {day:"–ë–µ–π—Å–µ–Ω–±—ñ", group:"–ò-205", time:"11:45‚Äì13:15", subject:"–û–ù 2.2 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ-–∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª–¥–∞—Ä–¥—ã“£ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},

  {day:"–°”ô—Ä—Å–µ–Ω–±—ñ", group:"–®—Ç-206", time:"08:00‚Äì09:30", subject:"–û–ù 2.1 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–ª—ã“õ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω –º–µ“£–≥–µ—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},
  {day:"–ñ“±–º–∞", group:"–®—Ç-206", time:"09:45‚Äì11:15", subject:"–û–ù 2.2 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ-–∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª–¥–∞—Ä–¥—ã“£ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},

  {day:"–î“Ø–π—Å–µ–Ω–±—ñ", group:"–î—Ç-205", time:"08:00‚Äì09:30", subject:"–û–ù 2.1 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–ª—ã“õ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω –º–µ“£–≥–µ—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},
  {day:"–°”ô—Ä—Å–µ–Ω–±—ñ", group:"–î—Ç-205", time:"09:45‚Äì11:15", subject:"–û–ù 2.2 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ-–∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª–¥–∞—Ä–¥—ã“£ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ë—ñ—Ä—ñ–Ω—à—ñ"},

  // --- –ï–∫—ñ–Ω—à—ñ –∫–µ–∑–µ“£ ---
  // –ë–∫-220, –ò-215, –ò-220, –ë–∫-221, –î—Ç-207, –®—Ç-205, –ö—Ç-220
  {day:"–î“Ø–π—Å–µ–Ω–±—ñ", group:"–ë–∫-220", time:"12:00‚Äì13:30", subject:"–û–ù 2.1 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–ª—ã“õ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω –º–µ“£–≥–µ—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ï–∫—ñ–Ω—à—ñ"},
  {day:"–°”ô—Ä—Å–µ–Ω–±—ñ", group:"–ë–∫-220", time:"13:45‚Äì15:15", subject:"–û–ù 2.2 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ-–∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª–¥–∞—Ä–¥—ã“£ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ï–∫—ñ–Ω—à—ñ"},

  {day:"–°–µ–π—Å–µ–Ω–±—ñ", group:"–ò-215", time:"12:00‚Äì13:30", subject:"–û–ù 2.2 –î–µ—Ä–±–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä “õ“±—Ä–∞–ª–¥–∞—Ä—ã–Ω—ã“£ –∂“±–º—ã—Å –∂–∞—Å–∞—É –ø—Ä–∏–Ω—Ü–∏–ø—ñ–Ω, –ø—Ä–æ–≥—Ä–∞–º–º–∞–ª—ã“õ “õ–∞–º—Å—ã–∑–¥–∞–Ω–¥—ã—Ä—É “õ—ã–∑–º–µ—Ç—ñ–Ω –∂“Ø–∑–µ–≥–µ –∞—Å—ã—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ï–∫—ñ–Ω—à—ñ"},
  {day:"–ë–µ–π—Å–µ–Ω–±—ñ", group:"–ò-215", time:"13:45‚Äì15:15", subject:"–û–ù 3.4 Scratch –ø—Ä–æ–≥—Ä–∞–º–º–∞–ª–∞—É –æ—Ä—Ç–∞—Å—ã–Ω–¥–∞ –æ–π—ã–Ω–¥—ã –∂–æ–±–∞–ª–∞—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ï–∫—ñ–Ω—à—ñ"},

  {day:"–°”ô—Ä—Å–µ–Ω–±—ñ", group:"–ò-220", time:"12:00‚Äì13:30", subject:"–û–ù 2.2 –î–µ—Ä–±–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä “õ“±—Ä–∞–ª–¥–∞—Ä—ã–Ω—ã“£ –∂“±–º—ã—Å –∂–∞—Å–∞—É –ø—Ä–∏–Ω—Ü–∏–ø—ñ–Ω, –ø—Ä–æ–≥—Ä–∞–º–º–∞–ª—ã“õ “õ–∞–º—Å—ã–∑–¥–∞–Ω–¥—ã—Ä—É “õ—ã–∑–º–µ—Ç—ñ–Ω –∂“Ø–∑–µ–≥–µ –∞—Å—ã—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ï–∫—ñ–Ω—à—ñ"},
  {day:"–ñ“±–º–∞", group:"–ò-220", time:"13:45‚Äì15:15", subject:"–û–ù 3.4 Scratch –ø—Ä–æ–≥—Ä–∞–º–º–∞–ª–∞—É –æ—Ä—Ç–∞—Å—ã–Ω–¥–∞ –æ–π—ã–Ω–¥—ã –∂–æ–±–∞–ª–∞—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ï–∫—ñ–Ω—à—ñ"},

  {day:"–ë–µ–π—Å–µ–Ω–±—ñ", group:"–ë–∫-221", time:"12:00‚Äì13:30", subject:"–û–ù 2.1 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–ª—ã“õ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω –º–µ“£–≥–µ—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ï–∫—ñ–Ω—à—ñ"},
  {day:"–ñ“±–º–∞", group:"–ë–∫-221", time:"13:45‚Äì15:15", subject:"–û–ù 2.2 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ-–∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª–¥–∞—Ä–¥—ã“£ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ï–∫—ñ–Ω—à—ñ"},

  {day:"–°–µ–π—Å–µ–Ω–±—ñ", group:"–î—Ç-207", time:"12:00‚Äì13:30", subject:"–û–ù 2.1 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–ª—ã“õ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω –º–µ“£–≥–µ—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ï–∫—ñ–Ω—à—ñ"},
  {day:"–ñ“±–º–∞", group:"–î—Ç-207", time:"13:45‚Äì15:15", subject:"–û–ù 2.2 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ-–∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª–¥–∞—Ä–¥—ã“£ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ï–∫—ñ–Ω—à—ñ"},

  {day:"–î“Ø–π—Å–µ–Ω–±—ñ", group:"–®—Ç-205", time:"12:00‚Äì13:30", subject:"–û–ù 2.1 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–ª—ã“õ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω –º–µ“£–≥–µ—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ï–∫—ñ–Ω—à—ñ"},
  {day:"–°”ô—Ä—Å–µ–Ω–±—ñ", group:"–®—Ç-205", time:"13:45‚Äì15:15", subject:"–û–ù 2.2 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ-–∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª–¥–∞—Ä–¥—ã“£ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ï–∫—ñ–Ω—à—ñ"},

  {day:"–ë–µ–π—Å–µ–Ω–±—ñ", group:"–ö—Ç-220", time:"12:00‚Äì13:30", subject:"–û–ù 2.1 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–ª—ã“õ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω –º–µ“£–≥–µ—Ä—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"215", shift:"–ï–∫—ñ–Ω—à—ñ"},
  {day:"–ñ“±–º–∞", group:"–ö—Ç-220", time:"13:45‚Äì15:15", subject:"–û–ù 2.2 –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã“õ-–∞–Ω—ã“õ—Ç–∞–º–∞–ª—ã“õ –∂”ô–Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –≤–µ–±-–ø–æ—Ä—Ç–∞–ª–¥–∞—Ä–¥—ã“£ “õ—ã–∑–º–µ—Ç—Ç–µ—Ä—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω—É", teacher:"–ê–±—ã–ª–∞–µ–≤ –ñ–∞–Ω–¥–∞—Ä–±–µ–∫ –ù–∞—Ä–µ–Ω–æ–≤–∏—á", room:"213", shift:"–ï–∫—ñ–Ω—à—ñ"},
];

localStorage.setItem(SCHEDULE_KEY, JSON.stringify(schedule));

const daysOrder = ["–î“Ø–π—Å–µ–Ω–±—ñ","–°–µ–π—Å–µ–Ω–±—ñ","–°”ô—Ä—Å–µ–Ω–±—ñ","–ë–µ–π—Å–µ–Ω–±—ñ","–ñ“±–º–∞"];

function render() {
  const day = document.getElementById('dayFilter').value;
  const shift = document.getElementById('shiftFilter').value;
  const search = document.getElementById('searchInput').value.toLowerCase();
  const tbody = document.getElementById('tableBody');
  tbody.innerHTML = '';

  let filtered = schedule.filter(s => {
    if(day !== '–ë–∞—Ä–ª—ã“ì—ã' && s.day !== day) return false;
    if(shift !== '–ë–∞—Ä–ª—ã“ì—ã' && s.shift !== shift) return false;
    if(me.role === 'student' && s.group !== me.group) return false;
    if(search){
      const text = `${s.day} ${s.group} ${s.subject} ${s.teacher} ${s.room}`.toLowerCase();
      return text.includes(search);
    }
    return true;
  });

  filtered.sort((a,b) => daysOrder.indexOf(a.day) - daysOrder.indexOf(b.day));

  filtered.forEach(s => {
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${s.day}</td><td>${s.group}</td><td>${s.time}</td><td>${s.subject}</td><td>${s.teacher}</td><td>${s.room}</td><td>${s.shift}</td>`;
    tbody.appendChild(tr);
  });
}

document.getElementById('dayFilter').addEventListener('change', render);
document.getElementById('shiftFilter').addEventListener('change', render);
document.getElementById('searchInput').addEventListener('input', render);
render();

function logout() {
  localStorage.removeItem(SESSION_KEY);
  window.location.href = "index.html";
}
</script>
</body>
</html>
